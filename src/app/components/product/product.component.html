<div class="container w-75 mt-3">
  <div class="display-6">Formulário de Cadastros:</div>
  <div *ngIf="product" class="row">
    <div class="col-md-10 offset-md-1">
      <!--ele recarrega por padrão a página. Para tirar-->
      <form id="formProducts" #formProduct="ngForm">
        <div class="row mb-3 mt-3">
          <label for="inputName" class="col-sm-2 col-form-label">Nome</label>
          <div class="col-sm-10">
            <input
              type="text"
              class="form-control"
              id="inputName"
              name="inputName"
              required
              [(ngModel)]="product.name"
            />
          </div>
        </div>
        <div class="row mb-3 mt-3">
          <label for="inputDescription" class="col-sm-2 col-form-label"
            >Descrição</label
          >
          <div class="col-sm-10">
            <input
              type="text"
              class="form-control"
              id="inputDescription"
              name="inputDescription"
              required
              [(ngModel)]="product.description"
            />
          </div>
        </div>

        <div class="row mb-3 mt-3">
          <label for="inputPrice" class="col-sm-2 col-form-label">Preço</label>
          <div class="col-sm-4">
            <input
              type="text"
              class="form-control"
              id="inputPrice"
              name="inputPrice"
              required
              [(ngModel)]="product.price"
            />
          </div>

          <label for="selectCategory" class="col-sm-2 col-form-label"
            >Categoria</label
          >
          <div class="col-sm-4">
            <select
              class="form-select"
              aria-label="Selecione uma Categoria"
              id="selectCategory"
              name="selectCategory"
              required
              [(ngModel)]="product.category"
            >
              <!-- tem que ter um value sem nada para que funcione na submissão do formulário-->
              <option *ngFor="let cat of sonCategories" [ngValue]="cat">
                {{ cat.name }}
              </option>
            </select>
          </div>
        </div>
        <div class="row mb-3 mt-3">
          <label class="col-sm-2 col-form-label">Opções</label>
          <div class="col-sm-4">
            <div class="form-check">
              <input
                class="form-check-input"
                type="checkbox"
                value=""
                id="checkBoxPromotion"
                name="checkBoxPromotion"
                [(ngModel)]="product.promotion"
              />
              <label class="form-check-label" for="checkBoxPromotion">
                Promoção
              </label>
            </div>
            <div class="form-check">
              <input
                class="form-check-input"
                type="checkbox"
                value=""
                id="checkBoxLancamento"
                name="checkBoxLancamento"
                [(ngModel)]="product.newProduct"
              />
              <label class="form-check-label" for="checkBoxLancamento">
                Lançamento
              </label>
            </div>
          </div>
        </div>
        <div class="row mb-3 mt-3">
          <div class="col-sm-4">
            <button
              (click)="save()"
              class="btn btn-primary"
              [disabled]="formProduct.invalid"
            >
              Cadastrar
            </button>
          </div>
        </div>
      </form>
    </div>
  </div>
</div>
